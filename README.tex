\part{轉向Emacs陣營}
\label{轉向emacs陣營}

轉向Emacs的原因主要是我在寫RDT協議的相關文檔時，由於採用近似RFC格式的
txt文檔，發現使用Vim確實很不順手，由於寫中文本身就要頻繁的切換輸入法，
與Vim本身的編輯模式和輸入模式的切換混合在一起，就非常的痛苦。使用其他
的編輯器，要麼不能跨平台，要麼不能定制和可編程，所以最後我只能嘗試使用
Emacs。 

Emacs帶給我驚喜，使用它寫類RFC文檔真的非常方便，不僅沒有模式切換帶來的
痛苦，而且縮進方面做得非常好，本來我只想寫文檔時用用Emacs，其他時候還
是用Vim好了，但是漸漸我就是想用Emacs，寫文檔用它，寫程序用它，記事本用
它，寫Markdown用它，甚至寫郵件也用它。

但是有很多Vi的快捷鍵真的根深蒂固了，當然可以使用evil-mode或者
viper-mode，但是這樣來說就沒太大意義，畢竟我就是厭倦了Vi的模式切換。所
以花一點時間，學習一下Elisp編程，或者到stack-overflow上抄抄別人的答案
并試著理解，我根據一份”Emacs for vi users“的清單，定制了若干Vi鍵綁定，
大部分以\textbf{ESC-ESC}作為前綴，列在下面，供大家參考。（關於區域內搜索和替換，
我還沒寫出鍵綁定。）

另外，Emacs的初始化配置文件\texttt{.emacs}也是經常變動的，所以一併加入版本管理。

\chapter{Emacs for vi users}
\label{emacsforviusers}

\textbf{E-E} corresponds to \emph{ESC-ESC}, \textbf{C-a} corresponds to \emph{Control+A}, and \textbf{M-f} corresponds to \emph{Meta+F}

\begin{table}[htbp]
\begin{minipage}{\linewidth}
\setlength{\tymax}{0.5\linewidth}
\centering
\small
\begin{tabulary}{\textwidth}{@{}LLLL@{}} \toprule
Action&Vi&Emacs&Notes on Emacs\\
\midrule
Go to beginning of buffer&1G&C-up&Mac OS X don't have \texttt{Home} key\\
Go to end of buffer&G&C-down&Mac OS X don't have \texttt{End} key\\
Go to line n&\emph{n}G&E-E g&\\
Go to beginning of line&0&C-a&\\
Go to end of line&\$&C-e&\\
Set mark \emph{x}&m \emph{x}&E-E m&\\
Go to mark \emph{x}&`\emph{x}&E-E `&\\
Go to first displayed line&H&E-E H&\\
Go to last displayed line&L&E-E L&\\
Go to middle displayed line&M&E-E M&\\
Delete n lines&\emph{n} dd&M-\emph{n} E-E dd&\\
Yank n lines&\emph{n} yy&M-\emph{n} E-E yy&\\
Open line above&O&C-M-o&\\
Open line below&o&C-o&\\
Join lines&J&E-E J&\\
Search forward for character \emph{x} in current line&f \emph{x}&E-E f&Input \emph{x}\\
Search forward to character before \emph{x} in current line&t \emph{x}&E-E t&Input \emph{x}\\
Delete forward for character \emph{x} in current line&df \emph{x}&E-E d f&Input \emph{x}\\
Delete forward to character before \emph{x} in current line&dt \emph{x}&E-E d t&Input \emph{x}\\
Delete to the end of line&D&C-k, or E-E D&\\
Delete to the beginning of line&d0&E-E d 0&\\
Delete to the end of buffer&dG&E-E d G&\\
Delete to the beginning of buffer&:1,.d&E-E d g&\\
Yank from \emph{beginning} to \emph{end} lines&:\emph{beginning\#},\emph{end\#}y&E-E r y&Input \emph{beginning\#}, \emph{end\#}\\
Delete from \emph{beginning} to \emph{end} lines&:\emph{beginning\#},\emph{end\#}d&E-E r d&Input \emph{beginning\#}, \emph{end\#}\\
Auto-complete single word&C-x C-n&M-\slash &\\
Auto-complete whole line&C-x C-l&C-x C-l&\\
Compile command&:make&\texttt{F8}&\\
Move to the next error message and visit the corresponding source code&:cnext&C-x `&Use \texttt{ctags} or \texttt{etags} to make file tags first\\
Run shell command&:!\emph{shell-command}&E-E ! \emph{shell-command}&\\
Read from shell command&:r!\emph{shell-command}&C-u E-E ! \emph{shell-command}&\\
Write to shell command and read back&:\emph{beginning},\emph{end}!\emph{shell-command}&M-h M- \emph{shell-command}&\\

\bottomrule

\end{tabulary}
\end{minipage}
\end{table}
